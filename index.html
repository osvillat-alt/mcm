<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MCM Repostería | Pasteles Personalizados</title>
  <meta name="description"
    content="MCM Repostería: Pasteles personalizados, postres y repostería fina bajo pedido. Elige tu diseño, sabor y relleno ideal. ¡Pide por WhatsApp!">

  <!-- Security: Content Security Policy -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self'; 
    script-src 'self' https://www.gstatic.com https://apis.google.com; 
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; 
    font-src 'self' https://fonts.gstatic.com; 
    img-src 'self' data: https://firebasestorage.googleapis.com; 
    connect-src 'self' https://firestore.googleapis.com https://www.googleapis.com https://identitytoolkit.googleapis.com https://securetoken.googleapis.com;
    object-src 'none';
    base-uri 'self';
    form-action 'self';
  ">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="MCM Repostería | Pasteles Personalizados">
  <meta property="og:description"
    content="Pasteles únicos y deliciosos. Personaliza tu diseño, sabor y relleno. ¡Haz tu pedido ahora!">
  <meta property="og:image" content="./assets/logo.png">

  <link rel="stylesheet" href="./styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;900&display=swap" rel="stylesheet">
</head>

<body>
  <header class="topbar" id="home">
    <div class="container topbar-inner">
      <a class="brand" href="#home" aria-label="MCM Repostería">
        <img src="./assets/logo.png" alt="MCM Repostería" class="brand-logo" />
      </a>

      <nav class="nav" aria-label="Navegación">
        <a href="#home">Inicio</a>
        <a href="#productos">Productos</a>
        <a href="#personaliza">Personaliza</a>
        <a href="#acerca">Acerca</a>
        <a href="#contacto">Contacto</a>
      </nav>

      <div class="topbar-actions">
        <button class="btn ghost cart-btn" id="openCart" type="button">
          Carrito <span class="cart-badge" id="cartCount">0</span>
        </button>
        <a class="cta" href="#personaliza">Pedir pastel</a>
      </div>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section class="hero">
      <div class="container hero-inner">
        <div>
          <h1>Repostería personalizada con estilo</h1>
          <p>Elige tu diseño y envíanos tu pedido por WhatsApp.</p>
          <div class="hero-actions">
            <a class="btn primary" href="#personaliza">Personalizar pastel</a>
            <a class="btn ghost" href="#productos">Ver catálogo</a>
          </div>
        </div>

        <div class="card hero-card">
          <h3>Promos / Avisos</h3>

          <img src="./assets/bienvenida.png" alt="Bienvenidos a MCM Repostería" class="promo-img" />

          <p id="promoText">Explora nuestro catálogo y personaliza tu pastel ideal</p>
        </div>
      </div>
    </section>

    <!-- PRODUCTOS -->
    <section class="section" id="productos">
      <div class="container">
        <div class="section-head">
          <h2>Productos</h2>
          <div class="filters">
            <select id="categoryFilter" aria-label="Filtrar por categoría"></select>
            <input id="searchInput" type="search" placeholder="Buscar producto..." aria-label="Buscar producto" />
          </div>
        </div>

        <div id="productsGrid" class="grid" aria-live="polite"></div>
      </div>
    </section>

    <!-- PERSONALIZA -->
    <section class="section" id="personaliza">
      <div class="container">
        <h2>Personaliza tu pastel</h2>
        <p class="muted">Llena este formulario y envíalo por WhatsApp.</p>

        <div class="card form-wrap">
          <div class="form-grid">
            <label>Tamaño
              <select id="tamano">
                <option value="">Selecciona</option>
                <option>16 cm</option>
                <option>18 cm</option>
                <option>20 cm</option>
                <option>22 cm</option>
              </select>
            </label>

            <label>Sabor del pan
              <select id="saborPan">
                <option value="">Selecciona</option>
                <option>Vainilla</option>
                <option>Chocolate</option>
                <option>Red velvet</option>
                <option>Almendra</option>
                <option>Zanahoria</option>
              </select>
            </label>

            <label>Consistencia
              <select id="consistencia">
                <option value="">Selecciona</option>
                <option>Seco</option>
                <option>Tres leches</option>
                <option>Húmedo</option>
              </select>
            </label>

            <label>Betún
              <select id="betun">
                <option value="">Selecciona</option>
                <option>Chantilly</option>
                <option>Queso crema</option>
                <option>Chocolate</option>
              </select>
            </label>

            <label class="full">Relleno
              <div class="chips">
                <label><input type="checkbox" class="relleno" value="Chantilly"> Chantilly</label>
                <label><input type="checkbox" class="relleno" value="Fruta"> Fruta</label>
                <label><input type="checkbox" class="relleno" value="Chocolate"> Chocolate</label>
                <label><input type="checkbox" class="relleno" value="Almendra"> Almendra</label>
                <label><input type="checkbox" class="relleno" value="Nuez"> Nuez</label>
                <label><input type="checkbox" class="relleno" value="Fresas con crema"> Fresas con crema</label>
                <label><input type="checkbox" class="relleno" value="Nutella"> Nutella</label>
                <label><input type="checkbox" class="relleno" value="Cajeta"> Cajeta</label>
                <label><input type="checkbox" class="relleno" value="Queso Philadelphia"> Queso Philadelphia</label>
              </div>
            </label>

            <label class="full">Fruta (si aplica) / Otro relleno
              <input id="detalleFruta" type="text" placeholder="Ej. fresa, mango, durazno..." />
            </label>

            <label class="full">
              Diseño: imagen/logo (papel comestible)
              <textarea id="detallesLogo" placeholder="Describe el diseño, colores, referencia..."></textarea>
            </label>

            <label class="full">
              Imagen de referencia (link)
              <input id="imagenReferencia" type="url"
                placeholder="Ej. enlace de WhatsApp, Drive, Instagram o Pinterest" />
            </label>

            <label class="full">Texto en fondant / Texto en chocolate
              <input id="fraseFondant" type="text" placeholder='Ej. "Feliz cumpleaños"' />
            </label>

            <label>Fecha de entrega
              <input id="fechaEntrega" type="date" />
            </label>

            <label>Hora de entrega
              <input id="horaEntrega" type="time" />
            </label>

            <label>Nombre
              <input id="nombreCliente" type="text" placeholder="Tu nombre" />
            </label>

            <label>Teléfono
              <input id="telefonoCliente" type="tel" placeholder="Tu teléfono" />
            </label>

            <label class="full">Comentarios
              <textarea id="comentariosAdicionales" placeholder="Alergias, porciones, etc."></textarea>
            </label>
          </div>

          <div class="actions">
            <button class="btn primary" id="sendCakeWhatsApp" type="button">Enviar por WhatsApp</button>
          </div>
        </div>
      </div>
    </section>

    <!-- ACERCA -->
    <section class="section" id="acerca">
      <div class="container">
        <h2>Acerca de MCM</h2>

        <div class="about-text">
          <p>
            MCM Repostería nace del gusto por crear momentos especiales a través de los sabores.
            Cada pastel, pay o postre que elaboramos está hecho de manera artesanal, cuidando
            cada detalle desde los ingredientes hasta la presentación final.
          </p>

          <p>
            Nos especializamos en pasteles personalizados, porque creemos que cada celebración
            es única. Ya sea un cumpleaños, aniversario o un detalle especial, nuestro objetivo
            es que tu pedido no solo se vea increíble, sino que también sepa delicioso.
          </p>

          <p>
            Trabajamos bajo pedido para garantizar frescura, calidad y atención personalizada,
            acompañándote en cada paso para que el resultado sea justo como lo imaginas.
          </p>
        </div>
      </div>
    </section>

    <!-- CONTACTO -->
    <section class="section" id="contacto">
      <div class="container">
        <h2>Contacto</h2>
        <div class="contact">
          <div class="card">
            <h3>WhatsApp</h3>
            <p><a id="waDirect" target="_blank" rel="noreferrer">Enviar mensaje</a></p>
            <p class="muted">+52 871 894 0806</p>
          </div>
          <div class="card">
            <h3>Horarios</h3>
            <p class="muted">Lunes a viernes</p>
            <p>10:00 a.m. - 7:00 p.m.</p>
          </div>
        </div>
      </div>
    </section>

    <footer class="footer">
      <div class="container">
        <small>© <span id="year"></span> MCM Repostería</small>
      </div>
    </footer>
  </main>

  <!-- Overlay + Drawer del carrito -->
  <div class="cart-overlay" id="cartOverlay"></div>

  <aside class="cart-drawer" id="cartDrawer" aria-hidden="true">
    <div class="cart-card">
      <div class="cart-head">
        <div>
          <h3 class="cart-title">En el horno…</h3>
          <p class="cart-sub">Tu pedido está casi listo</p>
        </div>
        <button class="cart-close" id="closeCart" aria-label="Cerrar" type="button">✕</button>
      </div>

      <div class="cart-items" id="cartItems"></div>

      <div class="cart-foot">
        <div class="cart-total">
          <span>Total:</span>
          <strong id="cartTotal">$0</strong>
        </div>

        <div class="cart-actions">
          <button class="btn ghost" id="clearCart" type="button">Vaciar</button>
          <button class="btn primary" id="sendCartWhatsApp" type="button">Enviar por WhatsApp</button>
        </div>
      </div>
    </div>
  </aside>

  <script type="module" src="./app.js"></script>
</body>

</html>
